<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>屈原·漁夫 互動測驗 - 100題</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Microsoft YaHei", "SimSun", serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .back-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .back-btn:hover {
            background: white;
            color: #1e3c72;
            transform: translateX(-3px);
        }

        .poem-text {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            line-height: 2;
            font-size: 1.1em;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            margin: 20px 30px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-container {
            padding: 30px;
            display: none;
        }

        .question-container.active {
            display: block;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .question-number {
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 25px;
            line-height: 1.8;
            color: #333;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: #f5f5f5;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .option:hover {
            background: #e8e8e8;
            transform: translateX(5px);
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-container {
            display: none;
            padding: 30px;
            text-align: center;
        }

        .result-container.active {
            display: block;
        }

        .score-display {
            font-size: 4em;
            color: #667eea;
            margin: 30px 0;
            font-weight: bold;
        }

        .score-message {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #333;
        }

        .result-details {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }

        .result-details h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .detail-item {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
        }

        .start-screen {
            padding: 50px 30px;
            text-align: center;
        }

        .start-screen h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 30px;
        }

        .start-screen p {
            font-size: 1.2em;
            line-height: 2;
            margin-bottom: 40px;
            color: #555;
        }

        .start-screen .btn-primary {
            padding: 15px 50px;
            font-size: 1.2em;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #4caf50;
        }

        .feedback.incorrect {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #f44336;
        }

        .question-count-selector {
            margin: 30px 0;
            text-align: center;
        }

        .question-count-selector h3 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .count-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .count-option {
            padding: 12px 25px;
            background: #f5f5f5;
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            font-weight: bold;
            color: #667eea;
        }

        .count-option:hover {
            background: #e8e8ff;
            transform: translateY(-2px);
        }

        .count-option.selected {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" id="header">
            <a href="index.html" class="back-btn">← 返回主頁</a>
            <h1>屈原·漁夫</h1>
            <div class="poem-text" id="poemText">
                屈原既放，游於江潭，行吟澤畔，顏色憔悴，形容枯槁。<br>
                漁父見而問之曰：「子非三閭大夫與？何故至於斯？」<br>
                屈原曰：「舉世皆濁我獨清，眾人皆醉我獨醒，是以見放。」<br><br>

                漁父曰：「聖人不凝滯於物，而能與世推移。<br>
                世人皆濁，何不淈其泥而揚其波？<br>
                眾人皆醉，何不餔其糟而歠其醨？<br>
                何故深思高舉，自令放為？」<br><br>

                屈原曰：「吾聞之，新沐者必彈冠，新浴者必振衣。<br>
                安能以身之察察，受物之汶汶者乎？<br>
                寧赴湘流，葬於江魚之腹中。<br>
                安能以皓皓之白，而蒙世俗之塵埃乎？」<br><br>

                漁父莞爾而笑，鼓枻而去，乃歌曰：<br>
                「滄浪之水清兮，可以濯吾纓；<br>
                滄浪之水濁兮，可以濯吾足。」<br>
                遂去不復與言。
            </div>
        </div>

        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="start-screen" id="startScreen">
            <h2>歡迎參加《漁夫》知識測驗</h2>
            <p>
                本測驗題庫共100題，涵蓋文章內容、人物對話、哲學思想、<br>
                文學賞析、歷史背景等多個方面。<br><br>
                請選擇測驗題數，祝你好運！
            </p>
            <div class="question-count-selector">
                <h3>選擇測驗題數</h3>
                <div class="count-options">
                    <div class="count-option" onclick="selectQuestionCount(20)">20題</div>
                    <div class="count-option" onclick="selectQuestionCount(50)">50題</div>
                    <div class="count-option selected" onclick="selectQuestionCount(100)">100題</div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="startTest()">開始測驗</button>
        </div>

        <div class="question-container" id="questionContainer"></div>

        <div class="result-container" id="resultContainer">
            <h2>測驗完成！</h2>
            <div class="score-display" id="scoreDisplay"></div>
            <div class="score-message" id="scoreMessage"></div>
            <div class="result-details" id="resultDetails"></div>
            <button class="btn btn-primary" onclick="restartTest()">重新測驗</button>
        </div>
    </div>

    <script>
        const questions = [
            // 第1-10題：基本內容理解
            {
                question: "《漁夫》的作者是誰？",
                options: ["屈原", "宋玉", "司馬遷", "有爭議，可能是屈原或後人托名"],
                correct: 3
            },
            {
                question: "文章開頭「屈原既放」的「放」是什麼意思？",
                options: ["放縱", "流放、放逐", "釋放", "放棄"],
                correct: 1
            },
            {
                question: "屈原「行吟澤畔」時的狀態是？",
                options: ["意氣風發", "顏色憔悴，形容枯槁", "神采奕奕", "平靜安詳"],
                correct: 1
            },
            {
                question: "漁父稱呼屈原為什麼？",
                options: ["先生", "三閭大夫", "大人", "屈子"],
                correct: 1
            },
            {
                question: "「三閭大夫」是什麼職位？",
                options: ["軍事官職", "掌管楚國王族三姓的官職", "宰相", "教師"],
                correct: 1
            },
            {
                question: "屈原說「舉世皆濁我獨清」表達了什麼？",
                options: ["自己愛乾淨", "自己品行高潔而世人污濁", "自己喜歡清水", "自己很孤獨"],
                correct: 1
            },
            {
                question: "「眾人皆醉我獨醒」中的「醉」指的是？",
                options: ["喝酒喝醉了", "糊塗、不明事理", "快樂", "瘋狂"],
                correct: 1
            },
            {
                question: "屈原認為自己被放逐的原因是？",
                options: ["犯了罪", "得罪了國王", "與眾不同、保持清醒", "能力不足"],
                correct: 2
            },
            {
                question: "漁父對屈原的態度是？",
                options: ["嘲諷批評", "提出勸告", "冷漠無視", "熱情支持"],
                correct: 1
            },
            {
                question: "漁父的核心觀點是什麼？",
                options: ["堅持原則", "與世推移、隨波逐流", "追求名利", "遠離塵世"],
                correct: 1
            },

            // 第11-20題：對話內容
            {
                question: "「聖人不凝滯於物」的意思是？",
                options: ["聖人不拘泥於事物", "聖人不喜歡物質", "聖人不會停止", "聖人不貪財"],
                correct: 0
            },
            {
                question: "「世人皆濁，何不淈其泥而揚其波」是誰說的？",
                options: ["屈原", "漁父", "楚王", "宋玉"],
                correct: 1
            },
            {
                question: "「淈其泥而揚其波」的意思是？",
                options: ["清理污泥", "攪渾泥水推波助瀾，隨波逐流", "治理水患", "捕魚技巧"],
                correct: 1
            },
            {
                question: "「餔其糟而歠其醨」中「糟」指的是？",
                options: ["糟糕的東西", "酒渣", "糧食", "泥土"],
                correct: 1
            },
            {
                question: "「餔其糟而歠其醨」比喻什麼？",
                options: ["過窮苦生活", "隨俗沉浮、同流合污", "喜歡喝酒", "節儉生活"],
                correct: 1
            },
            {
                question: "「何故深思高舉」的「高舉」是什麼意思？",
                options: ["舉起手", "品行高潔、自命清高", "地位高", "聲音大"],
                correct: 1
            },
            {
                question: "「自令放為」的「放」指的是？",
                options: ["放縱", "被流放", "放棄", "釋放"],
                correct: 1
            },
            {
                question: "「新沐者必彈冠，新浴者必振衣」出自誰之口？",
                options: ["漁父", "屈原", "楚王", "旁白"],
                correct: 1
            },
            {
                question: "「新沐者必彈冠」比喻什麼？",
                options: ["愛乾淨", "保持品格的純潔，不願被玷污", "喜歡新衣服", "注重儀表"],
                correct: 1
            },
            {
                question: "「察察」是什麼意思？",
                options: ["觀察仔細", "潔白、清白", "小心謹慎", "明察秋毫"],
                correct: 1
            },

            // 第21-30題：深層理解
            {
                question: "「汶汶」是什麼意思？",
                options: ["清潔", "污濁、玷污", "溫暖", "混亂"],
                correct: 1
            },
            {
                question: "「安能以身之察察，受物之汶汶者乎」表達了屈原的什麼態度？",
                options: ["願意妥協", "堅決不願玷污自己的清白", "無所謂", "猶豫不決"],
                correct: 1
            },
            {
                question: "「寧赴湘流，葬於江魚之腹中」表明屈原寧願？",
                options: ["去旅行", "投江而死也不願同流合污", "捕魚為生", "隱居江邊"],
                correct: 1
            },
            {
                question: "「皓皓之白」指的是？",
                options: ["白色的衣服", "純潔的品格", "白髮", "白雪"],
                correct: 1
            },
            {
                question: "「蒙世俗之塵埃」中「蒙」的意思是？",
                options: ["覆蓋、玷污", "欺騙", "蒙蔽", "承受"],
                correct: 0
            },
            {
                question: "漁父聽完屈原的話後是什麼反應？",
                options: ["生氣", "莞爾而笑", "嘆息", "哭泣"],
                correct: 1
            },
            {
                question: "「莞爾而笑」是什麼樣的笑？",
                options: ["大笑", "微笑", "苦笑", "冷笑"],
                correct: 1
            },
            {
                question: "「鼓枻而去」的「枻」是什麼？",
                options: ["鼓", "船槳", "船", "旗幟"],
                correct: 1
            },
            {
                question: "漁父離開時唱的歌叫什麼？",
                options: ["《離騷》", "《漁父歌》或《滄浪歌》", "《湘夫人》", "《九歌》"],
                correct: 1
            },
            {
                question: "「滄浪之水清兮，可以濯吾纓」的「纓」是什麼？",
                options: ["衣服", "帽帶", "鞋子", "腰帶"],
                correct: 1
            },

            // 第31-40題：滄浪歌與寓意
            {
                question: "「滄浪之水清兮，可以濯吾纓」的意思是？",
                options: ["水很清澈", "水清可以洗帽帶（比喻居高位）", "可以洗衣服", "可以喝水"],
                correct: 1
            },
            {
                question: "「滄浪之水濁兮，可以濯吾足」的意思是？",
                options: ["水髒不能用", "水濁可以洗腳（比喻處低位）", "需要換水", "水污染了"],
                correct: 1
            },
            {
                question: "《滄浪歌》體現了什麼哲學思想？",
                options: ["堅持原則", "隨遇而安、因時制宜", "消極避世", "積極進取"],
                correct: 1
            },
            {
                question: "漁父唱完歌後做了什麼？",
                options: ["繼續勸說屈原", "遂去不復與言", "與屈原爭論", "留下來陪伴屈原"],
                correct: 1
            },
            {
                question: "文中漁父和屈原代表了兩種不同的？",
                options: ["職業", "人生哲學", "年齡階段", "社會地位"],
                correct: 1
            },
            {
                question: "屈原的人生態度可以概括為？",
                options: ["隨波逐流", "寧為玉碎，不為瓦全", "明哲保身", "追名逐利"],
                correct: 1
            },
            {
                question: "漁父的人生態度可以概括為？",
                options: ["堅持理想", "順應環境、與世推移", "追求名利", "消極避世"],
                correct: 1
            },
            {
                question: "這篇文章主要採用了什麼寫作手法？",
                options: ["純敘事", "對話體", "議論文", "抒情散文"],
                correct: 1
            },
            {
                question: "文章通過對話展現了什麼？",
                options: ["捕魚技巧", "兩種人生哲學的對比", "楚國歷史", "自然風光"],
                correct: 1
            },
            {
                question: "文章的主要衝突是？",
                options: ["人與自然", "理想與現實、堅守與妥協", "貧富差距", "權力鬥爭"],
                correct: 1
            },

            // 第41-50題：人物形象
            {
                question: "屈原的形象特點是？",
                options: ["軟弱妥協", "堅守理想、品格高潔", "圓滑世故", "貪圖享樂"],
                correct: 1
            },
            {
                question: "漁父的形象特點是？",
                options: ["愚昧無知", "通達世故、隨遇而安", "憤世嫉俗", "野心勃勃"],
                correct: 1
            },
            {
                question: "「顏色憔悴，形容枯槁」描寫了屈原的什麼？",
                options: ["外貌憔悴", "內心痛苦的外在表現", "生病了", "年老體衰"],
                correct: 1
            },
            {
                question: "屈原「行吟澤畔」說明他處於什麼狀態？",
                options: ["悠閒散步", "憂愁苦悶、以詩抒懷", "鍛煉身體", "尋找食物"],
                correct: 1
            },
            {
                question: "漁父見到屈原的第一反應是？",
                options: ["視而不見", "認出並主動詢問", "嘲笑他", "害怕離開"],
                correct: 1
            },
            {
                question: "漁父對屈原的態度是？",
                options: ["尊敬但不贊同其做法", "完全支持", "鄙視輕蔑", "漠不關心"],
                correct: 0
            },
            {
                question: "屈原對漁父的建議持什麼態度？",
                options: ["欣然接受", "堅決拒絕", "猶豫不決", "部分接受"],
                correct: 1
            },
            {
                question: "文中屈原表現出的核心品質是？",
                options: ["靈活變通", "堅持原則、不同流合污", "追求富貴", "逃避現實"],
                correct: 1
            },
            {
                question: "漁父最後「莞爾而笑」說明他？",
                options: ["嘲笑屈原", "理解但不強求，各行其道", "生氣了", "同意屈原的觀點"],
                correct: 1
            },
            {
                question: "兩人對話的結局是？",
                options: ["達成共識", "互不理解，各持己見而散", "屈原被說服", "漁父被說服"],
                correct: 1
            },

            // 第51-60題：歷史背景
            {
                question: "屈原是哪國人？",
                options: ["秦國", "楚國", "齊國", "趙國"],
                correct: 1
            },
            {
                question: "屈原生活在什麼時期？",
                options: ["春秋時期", "戰國時期", "秦朝", "漢朝"],
                correct: 1
            },
            {
                question: "屈原被流放的主要原因是？",
                options: ["犯罪", "政治鬥爭失敗、遭讒言陷害", "自願離開", "戰爭失敗"],
                correct: 1
            },
            {
                question: "屈原最著名的作品是？",
                options: ["《離騷》", "《詩經》", "《論語》", "《道德經》"],
                correct: 0
            },
            {
                question: "屈原最終的結局是？",
                options: ["被召回朝廷", "投汨羅江自盡", "病死他鄉", "隱居終老"],
                correct: 1
            },
            {
                question: "端午節的起源與誰有關？",
                options: ["孔子", "屈原", "老子", "莊子"],
                correct: 1
            },
            {
                question: "屈原投江的地點是？",
                options: ["黃河", "長江", "汨羅江", "淮河"],
                correct: 2
            },
            {
                question: "《漁夫》收錄在哪部作品中？",
                options: ["《詩經》", "《楚辭》", "《論語》", "《史記》"],
                correct: 1
            },
            {
                question: "屈原開創了中國文學的哪種體裁？",
                options: ["律詩", "楚辭", "散文", "小說"],
                correct: 1
            },
            {
                question: "屈原在中國文學史上的地位是？",
                options: ["普通詩人", "偉大的愛國詩人、浪漫主義詩人", "史學家", "哲學家"],
                correct: 1
            },

            // 第61-70題：文學賞析
            {
                question: "文章開頭的景物描寫有什麼作用？",
                options: ["純粹寫景", "烘托屈原悲苦的處境和心情", "展示自然美", "交代時間"],
                correct: 1
            },
            {
                question: "「舉世皆濁我獨清」使用了什麼修辭？",
                options: ["比喻", "對比", "擬人", "排比"],
                correct: 1
            },
            {
                question: "「眾人皆醉我獨醒」與上句構成什麼關係？",
                options: ["轉折", "對偶、排比", "因果", "遞進"],
                correct: 1
            },
            {
                question: "「何不淈其泥而揚其波」使用了什麼修辭？",
                options: ["直敘", "比喻", "誇張", "反問"],
                correct: 1
            },
            {
                question: "「新沐者必彈冠，新浴者必振衣」運用了什麼手法？",
                options: ["正面說理", "比喻說理", "誇張", "對比"],
                correct: 1
            },
            {
                question: "「安能以身之察察，受物之汶汶者乎」是什麼句式？",
                options: ["陳述句", "反問句", "疑問句", "感嘆句"],
                correct: 1
            },
            {
                question: "「寧赴湘流，葬於江魚之腹中」表達的情感是？",
                options: ["恐懼", "寧死不屈的決心", "無奈", "輕鬆"],
                correct: 1
            },
            {
                question: "滄浪歌用了什麼修辭手法？",
                options: ["比喻", "對偶、比興", "擬人", "誇張"],
                correct: 1
            },
            {
                question: "文章的語言風格是？",
                options: ["華麗繁複", "簡潔凝練、富有哲理", "口語化", "艱澀難懂"],
                correct: 1
            },
            {
                question: "全文的結構特點是？",
                options: ["平鋪直敘", "對話推進、層層深入", "倒敘", "插敘"],
                correct: 1
            },

            // 第71-80題：哲學思想
            {
                question: "屈原體現了什麼樣的哲學思想？",
                options: ["儒家的仁愛", "個人理想主義、堅守節操", "道家的無為", "法家的嚴刑"],
                correct: 1
            },
            {
                question: "漁父體現了什麼哲學思想？",
                options: ["儒家思想", "道家的順應自然、與世推移", "法家思想", "墨家思想"],
                correct: 1
            },
            {
                question: "「與世推移」接近哪家思想？",
                options: ["儒家", "道家", "法家", "墨家"],
                correct: 1
            },
            {
                question: "屈原的「獨清」「獨醒」體現了什麼？",
                options: ["從眾心理", "獨立人格、不隨波逐流", "孤僻性格", "自大心理"],
                correct: 1
            },
            {
                question: "兩種人生態度哪種更好？",
                options: ["屈原的對", "漁父的對", "沒有絕對對錯，各有其理", "都不對"],
                correct: 2
            },
            {
                question: "文章探討的核心問題是？",
                options: ["如何捕魚", "如何處理理想與現實的矛盾", "如何升官", "如何隱居"],
                correct: 1
            },
            {
                question: "「寧為玉碎，不為瓦全」與誰的觀點一致？",
                options: ["漁父", "屈原", "兩者都是", "兩者都不是"],
                correct: 1
            },
            {
                question: "「水至清則無魚，人至察則無徒」與誰的觀點接近？",
                options: ["屈原", "漁父", "兩者都接近", "兩者都不接近"],
                correct: 1
            },
            {
                question: "屈原的選擇體現了什麼精神？",
                options: ["妥協精神", "犧牲精神、堅守理想", "逃避精神", "功利精神"],
                correct: 1
            },
            {
                question: "漁父的選擇體現了什麼智慧？",
                options: ["愚昧", "處世智慧、生存哲學", "懦弱", "狡詐"],
                correct: 1
            },

            // 第81-90題：深度分析
            {
                question: "文章標題為什麼叫《漁夫》而不是《屈原》？",
                options: ["寫漁夫的故事", "借漁夫之口表達不同觀點，引發思考", "屈原不重要", "隨意命名"],
                correct: 1
            },
            {
                question: "漁父這個角色的作用是？",
                options: ["配角", "作為對比，引出屈原思想的闡述", "主角", "路人"],
                correct: 1
            },
            {
                question: "「滄浪歌」在文中的作用是？",
                options: ["調節氣氛", "總結漁父的人生哲學，深化主題", "無作用", "湊字數"],
                correct: 1
            },
            {
                question: "文章的悲劇性體現在？",
                options: ["沒有悲劇性", "理想與現實的不可調和", "有人死亡", "貧窮"],
                correct: 1
            },
            {
                question: "屈原的「寧赴湘流」是預示了什麼？",
                options: ["去游泳", "他最終投江的結局", "去旅行", "去捕魚"],
                correct: 1
            },
            {
                question: "文章對後世的影響主要是？",
                options: ["捕魚技術", "關於人生選擇的永恆思考", "歷史知識", "地理知識"],
                correct: 1
            },
            {
                question: "「舉世皆濁我獨清」反映了屈原的什麼心理？",
                options: ["自卑", "孤獨、不被理解的痛苦", "自大", "快樂"],
                correct: 1
            },
            {
                question: "漁父的笑有什麼深意？",
                options: ["嘲笑", "理解並尊重但不認同", "開心", "無意義"],
                correct: 1
            },
            {
                question: "文章採用對話形式的好處是？",
                options: ["好寫", "直接展現思想交鋒，生動有力", "湊字數", "無好處"],
                correct: 1
            },
            {
                question: "這篇文章屬於什麼文學體裁？",
                options: ["詩歌", "辭賦類散文", "小說", "戲劇"],
                correct: 1
            },

            // 第91-100題：綜合與拓展
            {
                question: "《漁夫》與《離騷》的聯繫是？",
                options: ["無聯繫", "都表現屈原的思想和遭遇", "完全相同", "互相矛盾"],
                correct: 1
            },
            {
                question: "屈原的人格對中國文化的影響是？",
                options: ["沒有影響", "成為高潔品格和愛國精神的象徵", "負面影響", "影響很小"],
                correct: 1
            },
            {
                question: "「安能以皓皓之白，而蒙世俗之塵埃乎」體現的價值觀是？",
                options: ["隨波逐流", "保持人格獨立和尊嚴", "追求富貴", "逃避現實"],
                correct: 1
            },
            {
                question: "現代人應該如何看待屈原和漁父的選擇？",
                options: ["只學屈原", "只學漁父", "辯證看待，具體情況具體分析", "都不學"],
                correct: 2
            },
            {
                question: "文中「江潭」、「澤畔」的環境有什麼象徵意義？",
                options: ["美麗的風景", "荒涼孤寂，象徵屈原的處境", "富饒之地", "無意義"],
                correct: 1
            },
            {
                question: "屈原說「是以見放」的「是以」是什麼意思？",
                options: ["是的", "因此、所以", "可以", "或者"],
                correct: 1
            },
            {
                question: "「何故深思高舉，自令放為」中漁父認為屈原被放逐的原因是？",
                options: ["犯罪", "自己過於清高導致的", "能力不足", "運氣不好"],
                correct: 1
            },
            {
                question: "文章通過兩人的對話想告訴讀者什麼？",
                options: ["要學捕魚", "人生道路有不同選擇，要思考如何面對", "要當官", "要隱居"],
                correct: 1
            },
            {
                question: "「遂去不復與言」說明什麼？",
                options: ["漁父生氣了", "雙方道不同不相為謀，各持己見", "漁父趕時間", "屈原趕走他"],
                correct: 1
            },
            {
                question: "這篇文章的現實意義是？",
                options: ["沒有現實意義", "引導人們思考理想與現實、堅守與妥協的永恆命題", "只有歷史價值", "已經過時"],
                correct: 1
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];
        let score = 0;
        let selectedQuestionCount = 100;
        let selectedQuestions = [];

        function selectQuestionCount(count) {
            selectedQuestionCount = count;
            // Update UI
            document.querySelectorAll('.count-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        function startTest() {
            // Randomly select questions
            selectedQuestions = [];
            const allIndices = [...Array(questions.length).keys()];

            // Shuffle and pick
            for (let i = allIndices.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allIndices[i], allIndices[j]] = [allIndices[j], allIndices[i]];
            }

            selectedQuestions = allIndices.slice(0, selectedQuestionCount);
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('poemText').style.display = 'none';
            document.getElementById('progressBar').style.display = 'block';
            showQuestion(0);
        }

        function showQuestion(index) {
            const container = document.getElementById('questionContainer');
            const questionIndex = selectedQuestions[index];
            const question = questions[questionIndex];

            container.className = 'question-container active';
            container.innerHTML = `
                <div class="question-header">
                    <span class="question-number">第 ${index + 1} 題 / 共 ${selectedQuestionCount} 題</span>
                    <span>已完成: ${userAnswers.length}/${selectedQuestionCount}</span>
                </div>
                <div class="question-text">${question.question}</div>
                <div class="options">
                    ${question.options.map((option, i) => `
                        <div class="option" onclick="selectOption(${i})" data-index="${i}">
                            ${String.fromCharCode(65 + i)}. ${option}
                        </div>
                    `).join('')}
                </div>
                <div class="feedback" id="feedback"></div>
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="previousQuestion()" ${index === 0 ? 'disabled' : ''}>
                        上一題
                    </button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                        ${index === selectedQuestionCount - 1 ? '完成測驗' : '下一題'}
                    </button>
                </div>
            `;

            if (userAnswers[index] !== undefined) {
                const options = container.querySelectorAll('.option');
                options[userAnswers[index]].classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
            }

            updateProgress();
        }

        function selectOption(optionIndex) {
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');
            const questionIndex = selectedQuestions[currentQuestion];
            const question = questions[questionIndex];

            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });

            options[optionIndex].classList.add('selected');
            userAnswers[currentQuestion] = optionIndex;

            if (optionIndex === question.correct) {
                feedback.className = 'feedback show correct';
                feedback.textContent = '✓ 回答正確！';
                options[optionIndex].classList.add('correct');
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.textContent = `✗ 回答錯誤。正確答案是：${String.fromCharCode(65 + question.correct)}. ${question.options[question.correct]}`;
                options[optionIndex].classList.add('incorrect');
                options[question.correct].classList.add('correct');
            }

            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (userAnswers[currentQuestion] === undefined) {
                alert('請選擇一個答案');
                return;
            }

            if (currentQuestion < selectedQuestionCount - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / selectedQuestionCount) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showResults() {
            // 計算分數
            score = 0;
            for (let i = 0; i < selectedQuestionCount; i++) {
                const questionIndex = selectedQuestions[i];
                if (userAnswers[i] === questions[questionIndex].correct) {
                    score++;
                }
            }

            const percentage = (score / selectedQuestionCount * 100).toFixed(1);

            let message = '';
            if (percentage >= 90) {
                message = '優秀！您對《漁夫》的理解非常深入！';
            } else if (percentage >= 80) {
                message = '良好！您對《漁夫》有很好的理解！';
            } else if (percentage >= 70) {
                message = '不錯！繼續加油！';
            } else if (percentage >= 60) {
                message = '及格了！還有提升空間！';
            } else {
                message = '需要加強對《漁夫》的學習哦！';
            }

            document.getElementById('questionContainer').classList.remove('active');
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.classList.add('active');

            document.getElementById('scoreDisplay').textContent = `${score}/${selectedQuestionCount}`;
            document.getElementById('scoreMessage').textContent = message;

            // 顯示詳細結果
            const details = document.getElementById('resultDetails');
            details.innerHTML = `
                <h3>測驗統計</h3>
                <div class="detail-item">
                    <span>測驗題數：</span>
                    <span><strong>${selectedQuestionCount} 題</strong></span>
                </div>
                <div class="detail-item">
                    <span>正確率：</span>
                    <span><strong>${percentage}%</strong></span>
                </div>
                <div class="detail-item">
                    <span>答對題數：</span>
                    <span><strong>${score} 題</strong></span>
                </div>
                <div class="detail-item">
                    <span>答錯題數：</span>
                    <span><strong>${selectedQuestionCount - score} 題</strong></span>
                </div>
            `;

            updateProgress();
        }

        function restartTest() {
            currentQuestion = 0;
            userAnswers = [];
            score = 0;
            selectedQuestions = [];
            selectedQuestionCount = 100;
            document.getElementById('resultContainer').classList.remove('active');
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('poemText').style.display = 'block';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('progressFill').style.width = '0%';
            // Reset selection
            document.querySelectorAll('.count-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelectorAll('.count-option')[2].classList.add('selected');
        }
    </script>
</body>
</html>